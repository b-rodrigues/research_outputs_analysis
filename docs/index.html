<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Research Publications Affiliated with Luxembourg: A Data-Driven Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="report_files/libs/clipboard/clipboard.min.js"></script>
<script src="report_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="report_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="report_files/libs/quarto-html/popper.min.js"></script>
<script src="report_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="report_files/libs/quarto-html/anchor.min.js"></script>
<link href="report_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="report_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="report_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="report_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="report_files/libs/bootstrap/bootstrap-a48ce70e4257b4e66c396f74f0bf4310.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script type="module" src="report_files/libs/quarto-ojs/quarto-ojs-runtime.js"></script>
<link href="report_files/libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">
<link href="report_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="report_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="report_files/libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="report_files/libs/datatables-binding-0.33/datatables.js"></script>
<script src="report_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="report_files/libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="report_files/libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="report_files/libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<script src="report_files/libs/jszip-1.13.6/jszip.min.js"></script>
<link href="report_files/libs/dt-ext-buttons-1.13.6/css/buttons.dataTables.min.css" rel="stylesheet">
<script src="report_files/libs/dt-ext-buttons-1.13.6/js/dataTables.buttons.min.js"></script>
<script src="report_files/libs/dt-ext-buttons-1.13.6/js/buttons.html5.min.js"></script>
<script src="report_files/libs/dt-ext-buttons-1.13.6/js/buttons.colVis.min.js"></script>
<script src="report_files/libs/dt-ext-buttons-1.13.6/js/buttons.print.min.js"></script>
<link href="report_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="report_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<script src="report_files/libs/ionrangeslider-javascript-2.3.1/js/ion.rangeSlider.min.js"></script>
<script src="report_files/libs/strftime-0.9.2/strftime-min.js"></script>
<link href="report_files/libs/ionrangeslider-css-2.3.1/css/ion.rangeSlider.css" rel="stylesheet">
<link href="report_files/libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">
<script src="report_files/libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
<link href="report_files/libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">
<script src="report_files/libs/selectize-0.12.0/selectize.min.js"></script>
<script type="ojs-define">
{"contents":[{"name":"primary_domain_lu_ojs","value":{"publication_year":[2015,2015,2015,2015,2015,2015,2015,2015,2015,2015,2016,2016,2016,2016,2016,2016,2016,2016,2016,2016,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2019,2019,2019,2019,2019,2019,2019,2019,2019,2019,2020,2020,2020,2020,2020,2020,2020,2020,2020,2020,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2024,2024,2024,2024,2024,2024,2024,2024,2024,2024,2025,2025,2025,2025,2025,2025,2025,2025,2025,2025],"primary_domain_name":["Health Sciences","Health Sciences","Life Sciences","Life Sciences","MISSING-DOMAIN","MISSING-DOMAIN","Physical Sciences","Physical Sciences","Social Sciences","Social Sciences","Health Sciences","Health Sciences","Life Sciences","Life Sciences","MISSING-DOMAIN","MISSING-DOMAIN","Physical Sciences","Physical Sciences","Social Sciences","Social Sciences","Health Sciences","Health Sciences","Life Sciences","Life Sciences","MISSING-DOMAIN","MISSING-DOMAIN","Physical Sciences","Physical Sciences","Social Sciences","Social Sciences","Health Sciences","Health Sciences","Life Sciences","Life Sciences","MISSING-DOMAIN","MISSING-DOMAIN","Physical Sciences","Physical Sciences","Social Sciences","Social Sciences","Health Sciences","Health Sciences","Life Sciences","Life Sciences","MISSING-DOMAIN","MISSING-DOMAIN","Physical Sciences","Physical Sciences","Social Sciences","Social Sciences","Health Sciences","Health Sciences","Life Sciences","Life Sciences","MISSING-DOMAIN","MISSING-DOMAIN","Physical Sciences","Physical Sciences","Social Sciences","Social Sciences","Health Sciences","Health Sciences","Life Sciences","Life Sciences","MISSING-DOMAIN","MISSING-DOMAIN","Physical Sciences","Physical Sciences","Social Sciences","Social Sciences","Health Sciences","Health Sciences","Life Sciences","Life Sciences","MISSING-DOMAIN","MISSING-DOMAIN","Physical Sciences","Physical Sciences","Social Sciences","Social Sciences","Health Sciences","Health Sciences","Life Sciences","Life Sciences","MISSING-DOMAIN","MISSING-DOMAIN","Physical Sciences","Physical Sciences","Social Sciences","Social Sciences","Health Sciences","Health Sciences","Life Sciences","Life Sciences","MISSING-DOMAIN","MISSING-DOMAIN","Physical Sciences","Physical Sciences","Social Sciences","Social Sciences","Health Sciences","Health Sciences","Life Sciences","Life Sciences","MISSING-DOMAIN","MISSING-DOMAIN","Physical Sciences","Physical Sciences","Social Sciences","Social Sciences"],"is_lu_first_author":[false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true,false,true],"total":[194,109,131,95,1,8,347,460,137,319,179,136,100,104,3,11,375,479,147,325,215,127,121,85,4,18,407,533,182,397,194,130,115,105,5,15,419,573,224,391,201,117,146,100,5,16,449,595,203,403,256,140,148,92,3,21,453,593,231,427,298,155,180,128,6,20,552,670,237,454,336,144,168,145,8,16,589,761,271,410,330,172,158,123,6,31,581,781,294,452,293,155,155,116,7,12,574,719,203,334,125,75,67,36,1,1,199,194,66,86]}}]}
</script>


</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Research Publications Affiliated with Luxembourg: A Data-Driven Analysis</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>This report presents a comprehensive analysis of Luxembourg’s research publication landscape using data extracted from OpenAlex, an open-access scholarly metadata platform. OpenAlex serves as a freely accessible alternative to proprietary academic databases, providing structured information about publications, authors, institutional affiliations, and research collaborations across all academic disciplines.</p>
<p>The data collection methodology focuses on identifying all scholarly works with Luxembourg institutional affiliations recorded in OpenAlex over the past decade. This approach captures both research led by Luxembourg-based scholars and international collaborative projects where Luxembourg institutions participate as co-authors. The temporal scope provides a current snapshot of the country’s scientific output and evolving research partnerships.</p>
<p>OpenAlex aggregates metadata from multiple sources including institutional repositories, publisher databases, and citation networks. While this multi-source approach enhances coverage comprehensiveness, data quality depends on the accuracy of source reporting and the platform’s ability to correctly identify and link Luxembourg-affiliated works. These methodological considerations should be kept in mind when interpreting the analytical findings presented throughout this report.</p>
</section>
<section id="data-structure-and-document-types" class="level2">
<h2 class="anchored" data-anchor-id="data-structure-and-document-types">Data Structure and Document Types</h2>
<p>The initial dataset encompasses all document types recorded in OpenAlex for Luxembourg-affiliated scholarly works during the study period. The following table displays the distribution of work types and the presence of Digital Object Identifiers (DOIs), which serve as persistent identifiers linking to original publications:</p>
<div class="cell">
<div id="tbl-type-doi-missing" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-type-doi-missing-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Distribution of types of work and missingness of DOI
</figcaption>
<div aria-describedby="tbl-type-doi-missing-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-0587fb092f6719265f32" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-0587fb092f6719265f32">{"x":{"filter":"none","vertical":false,"extensions":["Buttons"],"caption":"<caption>Distribution of types of work and missingness of DOI<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15"],["article","book","book-chapter","dataset","dissertation","editorial","erratum","letter","other","paratext","peer-review","preprint","reference-entry","report","review"],[24320,267,2982,878,35,190,102,232,92,145,155,1829,23,88,1382],[9755,89,54,0,52,1,0,1,80,8,0,1363,0,21,20],[34075,356,3036,878,87,191,102,233,172,153,155,3192,23,109,1402]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Type<\/th>\n      <th>DOI_missing<\/th>\n      <th>Has_DOI<\/th>\n      <th>Total<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":15,"scrollX":true,"dom":"Bfrtip","buttons":["excel"],"columnDefs":[{"className":"dt-right","targets":[2,3,4]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Type","targets":1},{"name":"DOI_missing","targets":2},{"name":"Has_DOI","targets":3},{"name":"Total","targets":4}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[10,15,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</figure>
</div>
</div>
<p>Based on the substantial predominance of journal articles in the dataset and their central importance in academic research communication, this analysis restricts its focus to articles exclusively. This selection encompasses both publications with DOI identifiers and those without, ensuring comprehensive coverage of Luxembourg’s peer-reviewed research output.</p>
<p>The analytical framework employs a critical distinction based on first authorship status: whether the primary author maintains affiliation with a Luxembourg institution or represents an international collaboration where Luxembourg institutions participate as secondary contributors. This classification enables differentiation between research leadership and research participation within the national research ecosystem:</p>
<div class="cell">
<div id="tbl-lu-first-authors" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-lu-first-authors-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Number of articles where the first author is LU-affiliated
</figcaption>
<div aria-describedby="tbl-lu-first-authors-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div class="form-group crosstalk-input crosstalk-input-slider js-range-slider" id="publication_year_filter" style="width: 100%;">
<label class="control-label" for="publication_year_filter">Select Year Range:</label>
<input data-skin="shiny" data-type="double" data-min="2015" data-max="2025" data-from="2015" data-to="2025" data-step="1" data-grid="true" data-grid-num="10" data-grid-snap="false" data-prettify-separator="," data-keyboard="true" data-keyboard-step="10" data-drag-interval="true" data-round="0" data-data-type="number">
<script type="application/json" data-for="publication_year_filter">{
  "values": [2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022, 2023, 2024, 2025],
  "keys": ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11"],
  "group": ["SharedDataf3338ab7"]
}</script>
</div>
</div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-af8a3f0b1a859f93c774" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-af8a3f0b1a859f93c774">{"x":{"crosstalkOptions":{"key":["1","2","3","4","5","6","7","8","9","10","11"],"group":"SharedDataf3338ab7"},"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"2015\" data-max=\"2025\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"457\" data-max=\"1371\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"391\" data-max=\"1556\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","extensions":["Buttons"],"caption":"<caption>Number of articles where the first author is LU-affiliated<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11"],[2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025],[806,800,925,953,1000,1087,1269,1371,1366,1229,457],[987,1051,1156,1210,1227,1269,1423,1475,1556,1333,391]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Publication Year<\/th>\n      <th>Non-LU first author<\/th>\n      <th>LU first author<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"scrollX":true,"dom":"Bfrtip","buttons":["excel"],"order":[[0,"desc"]],"columnDefs":[{"className":"dt-right","targets":[1,2,3]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Publication Year","targets":1},{"name":"Non-LU first author","targets":2},{"name":"LU first author","targets":3}],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\n}"},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":["options.rowCallback"],"jsHooks":[]}</script>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="research-domain-analysis" class="level2">
<h2 class="anchored" data-anchor-id="research-domain-analysis">Research Domain Analysis</h2>
<p>The following visualization examines the temporal distribution of Luxembourg-affiliated research across major scientific domains. The data utilizes OpenAlex’s domain classification system, which categorizes research fields into broad disciplinary areas. The analysis tracks publication volumes over time while maintaining the distinction between Luxembourg-led research (first author affiliation) and collaborative research (non-first author participation):</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="report_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>Observable js version of the graph:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ojs_define</span>(<span class="at">primary_domain_lu_ojs =</span> primary_domain_lu)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb2" data-startfrom="193" data-source-offset="-30"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 192;"><span id="cb2-193"><a href="#cb2-193" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {Plot} <span class="im">from</span> <span class="st">"@observablehq/plot"</span></span>
<span id="cb2-194"><a href="#cb2-194" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {Inputs} <span class="im">from</span> <span class="st">"@observablehq/inputs"</span></span>
<span id="cb2-195"><a href="#cb2-195" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {rangeInput} <span class="im">from</span> <span class="st">"@mootari/range-slider"</span></span>
<span id="cb2-196"><a href="#cb2-196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-197"><a href="#cb2-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-198"><a href="#cb2-198" aria-hidden="true" tabindex="-1"></a><span class="co">// Convert R data to JavaScript format</span></span>
<span id="cb2-199"><a href="#cb2-199" aria-hidden="true" tabindex="-1"></a>raw_data <span class="op">=</span> <span class="fu">transpose</span>(primary_domain_lu_ojs)</span>
<span id="cb2-200"><a href="#cb2-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-201"><a href="#cb2-201" aria-hidden="true" tabindex="-1"></a><span class="co">// Convert data types to ensure Observable Plot can use them</span></span>
<span id="cb2-202"><a href="#cb2-202" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> raw_data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> ({</span>
<span id="cb2-203"><a href="#cb2-203" aria-hidden="true" tabindex="-1"></a>  <span class="dt">publication_year</span><span class="op">:</span> <span class="op">+</span>d<span class="op">.</span><span class="at">publication_year</span><span class="op">,</span>  <span class="co">// Convert to number</span></span>
<span id="cb2-204"><a href="#cb2-204" aria-hidden="true" tabindex="-1"></a>  <span class="dt">primary_domain_name</span><span class="op">:</span> d<span class="op">.</span><span class="at">primary_domain_name</span><span class="op">,</span></span>
<span id="cb2-205"><a href="#cb2-205" aria-hidden="true" tabindex="-1"></a>  <span class="dt">total</span><span class="op">:</span> <span class="op">+</span>d<span class="op">.</span><span class="at">total</span><span class="op">,</span>  <span class="co">// Convert to number</span></span>
<span id="cb2-206"><a href="#cb2-206" aria-hidden="true" tabindex="-1"></a>  <span class="dt">is_lu_first_author</span><span class="op">:</span> d<span class="op">.</span><span class="at">is_lu_first_author</span> <span class="op">===</span> <span class="st">"TRUE"</span> <span class="op">||</span> d<span class="op">.</span><span class="at">is_lu_first_author</span> <span class="op">===</span> <span class="kw">true</span>  <span class="co">// Convert to boolean</span></span>
<span id="cb2-207"><a href="#cb2-207" aria-hidden="true" tabindex="-1"></a>}))</span>
<span id="cb2-208"><a href="#cb2-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-209"><a href="#cb2-209" aria-hidden="true" tabindex="-1"></a><span class="co">// Create color mapping</span></span>
<span id="cb2-210"><a href="#cb2-210" aria-hidden="true" tabindex="-1"></a>domain_colors <span class="op">=</span> <span class="kw">new</span> <span class="bu">Map</span>([</span>
<span id="cb2-211"><a href="#cb2-211" aria-hidden="true" tabindex="-1"></a>  [<span class="st">"Health Sciences"</span><span class="op">,</span> <span class="st">"#FF6B35"</span>]<span class="op">,</span></span>
<span id="cb2-212"><a href="#cb2-212" aria-hidden="true" tabindex="-1"></a>  [<span class="st">"Life Sciences"</span><span class="op">,</span> <span class="st">"#003399"</span>]<span class="op">,</span></span>
<span id="cb2-213"><a href="#cb2-213" aria-hidden="true" tabindex="-1"></a>  [<span class="st">"MISSING-DOMAIN"</span><span class="op">,</span> <span class="st">"#228B22"</span>]<span class="op">,</span></span>
<span id="cb2-214"><a href="#cb2-214" aria-hidden="true" tabindex="-1"></a>  [<span class="st">"Physical Sciences"</span><span class="op">,</span> <span class="st">"#FF1493"</span>]<span class="op">,</span></span>
<span id="cb2-215"><a href="#cb2-215" aria-hidden="true" tabindex="-1"></a>  [<span class="st">"Social Sciences"</span><span class="op">,</span> <span class="st">"#800080"</span>]</span>
<span id="cb2-216"><a href="#cb2-216" aria-hidden="true" tabindex="-1"></a>])</span>
<span id="cb2-217"><a href="#cb2-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-218"><a href="#cb2-218" aria-hidden="true" tabindex="-1"></a><span class="co">// Get unique values for controls</span></span>
<span id="cb2-219"><a href="#cb2-219" aria-hidden="true" tabindex="-1"></a>unique_years <span class="op">=</span> [<span class="op">...</span><span class="kw">new</span> <span class="bu">Set</span>(data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">publication_year</span>))]<span class="op">.</span><span class="fu">sort</span>()</span>
<span id="cb2-220"><a href="#cb2-220" aria-hidden="true" tabindex="-1"></a>unique_domains <span class="op">=</span> [<span class="op">...</span><span class="kw">new</span> <span class="bu">Set</span>(data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">primary_domain_name</span>))]<span class="op">.</span><span class="fu">sort</span>()</span>
<span id="cb2-221"><a href="#cb2-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-222"><a href="#cb2-222" aria-hidden="true" tabindex="-1"></a>viewof year_range <span class="op">=</span> <span class="fu">rangeInput</span>({</span>
<span id="cb2-223"><a href="#cb2-223" aria-hidden="true" tabindex="-1"></a>  <span class="dt">min</span><span class="op">:</span> <span class="dv">2015</span><span class="op">,</span></span>
<span id="cb2-224"><a href="#cb2-224" aria-hidden="true" tabindex="-1"></a>  <span class="dt">max</span><span class="op">:</span> <span class="dv">2025</span><span class="op">,</span></span>
<span id="cb2-225"><a href="#cb2-225" aria-hidden="true" tabindex="-1"></a>  <span class="dt">value</span><span class="op">:</span> [<span class="dv">2015</span><span class="op">,</span> <span class="dv">2025</span>]<span class="op">,</span></span>
<span id="cb2-226"><a href="#cb2-226" aria-hidden="true" tabindex="-1"></a>  <span class="dt">title</span><span class="op">:</span> <span class="st">'Select year interval'</span><span class="op">,</span></span>
<span id="cb2-227"><a href="#cb2-227" aria-hidden="true" tabindex="-1"></a>  <span class="dt">step</span><span class="op">:</span> <span class="dv">1</span></span>
<span id="cb2-228"><a href="#cb2-228" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb2-229"><a href="#cb2-229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-230"><a href="#cb2-230" aria-hidden="true" tabindex="-1"></a>viewof selected_domains <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">checkbox</span>(</span>
<span id="cb2-231"><a href="#cb2-231" aria-hidden="true" tabindex="-1"></a>  unique_domains<span class="op">,</span></span>
<span id="cb2-232"><a href="#cb2-232" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb2-233"><a href="#cb2-233" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> unique_domains<span class="op">,</span></span>
<span id="cb2-234"><a href="#cb2-234" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"Research Domains"</span></span>
<span id="cb2-235"><a href="#cb2-235" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-236"><a href="#cb2-236" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-237"><a href="#cb2-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-238"><a href="#cb2-238" aria-hidden="true" tabindex="-1"></a>viewof selected_author_type <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">radio</span>(</span>
<span id="cb2-239"><a href="#cb2-239" aria-hidden="true" tabindex="-1"></a>  [<span class="st">"LU-affiliated first author"</span><span class="op">,</span> <span class="st">"Non LU-affiliated first author"</span><span class="op">,</span> <span class="st">"Both"</span>]<span class="op">,</span></span>
<span id="cb2-240"><a href="#cb2-240" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb2-241"><a href="#cb2-241" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="st">"Both"</span><span class="op">,</span></span>
<span id="cb2-242"><a href="#cb2-242" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"First Author Affiliation"</span></span>
<span id="cb2-243"><a href="#cb2-243" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-244"><a href="#cb2-244" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-245"><a href="#cb2-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-246"><a href="#cb2-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-247"><a href="#cb2-247" aria-hidden="true" tabindex="-1"></a><span class="co">// Filter data based on selections</span></span>
<span id="cb2-248"><a href="#cb2-248" aria-hidden="true" tabindex="-1"></a>filtered_data <span class="op">=</span> data<span class="op">.</span><span class="fu">filter</span>(d <span class="kw">=&gt;</span> {</span>
<span id="cb2-249"><a href="#cb2-249" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Year filter</span></span>
<span id="cb2-250"><a href="#cb2-250" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> yearOk <span class="op">=</span> d<span class="op">.</span><span class="at">publication_year</span> <span class="op">&gt;=</span> year_range[<span class="dv">0</span>] <span class="op">&amp;&amp;</span> d<span class="op">.</span><span class="at">publication_year</span> <span class="op">&lt;=</span> year_range[<span class="dv">1</span>]<span class="op">;</span></span>
<span id="cb2-251"><a href="#cb2-251" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-252"><a href="#cb2-252" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Domain filter</span></span>
<span id="cb2-253"><a href="#cb2-253" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> domainOk <span class="op">=</span> selected_domains<span class="op">.</span><span class="fu">includes</span>(d<span class="op">.</span><span class="at">primary_domain_name</span>)<span class="op">;</span></span>
<span id="cb2-254"><a href="#cb2-254" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-255"><a href="#cb2-255" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Author filter</span></span>
<span id="cb2-256"><a href="#cb2-256" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> authorOk <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb2-257"><a href="#cb2-257" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (selected_author_type <span class="op">===</span> <span class="st">"Both"</span>) {</span>
<span id="cb2-258"><a href="#cb2-258" aria-hidden="true" tabindex="-1"></a>    authorOk <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb2-259"><a href="#cb2-259" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (selected_author_type <span class="op">===</span> <span class="st">"LU-affiliated first author"</span>) {</span>
<span id="cb2-260"><a href="#cb2-260" aria-hidden="true" tabindex="-1"></a>    authorOk <span class="op">=</span> d<span class="op">.</span><span class="at">is_lu_first_author</span> <span class="op">===</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb2-261"><a href="#cb2-261" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (selected_author_type <span class="op">===</span> <span class="st">"Non LU-affiliated first author"</span>) {</span>
<span id="cb2-262"><a href="#cb2-262" aria-hidden="true" tabindex="-1"></a>    authorOk <span class="op">=</span> d<span class="op">.</span><span class="at">is_lu_first_author</span> <span class="op">===</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb2-263"><a href="#cb2-263" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-264"><a href="#cb2-264" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-265"><a href="#cb2-265" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> yearOk <span class="op">&amp;&amp;</span> domainOk <span class="op">&amp;&amp;</span> authorOk<span class="op">;</span></span>
<span id="cb2-266"><a href="#cb2-266" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb2-267"><a href="#cb2-267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-268"><a href="#cb2-268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-269"><a href="#cb2-269" aria-hidden="true" tabindex="-1"></a><span class="co">// Create the plot</span></span>
<span id="cb2-270"><a href="#cb2-270" aria-hidden="true" tabindex="-1"></a><span class="co">//| echo: false</span></span>
<span id="cb2-271"><a href="#cb2-271" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-272"><a href="#cb2-272" aria-hidden="true" tabindex="-1"></a><span class="co">// Create the plot with better visual distinction</span></span>
<span id="cb2-273"><a href="#cb2-273" aria-hidden="true" tabindex="-1"></a><span class="co">// Create the plot</span></span>
<span id="cb2-274"><a href="#cb2-274" aria-hidden="true" tabindex="-1"></a>Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb2-275"><a href="#cb2-275" aria-hidden="true" tabindex="-1"></a>  <span class="dt">width</span><span class="op">:</span> <span class="dv">800</span><span class="op">,</span></span>
<span id="cb2-276"><a href="#cb2-276" aria-hidden="true" tabindex="-1"></a>  <span class="dt">height</span><span class="op">:</span> <span class="dv">500</span><span class="op">,</span></span>
<span id="cb2-277"><a href="#cb2-277" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginLeft</span><span class="op">:</span> <span class="dv">60</span><span class="op">,</span></span>
<span id="cb2-278"><a href="#cb2-278" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginBottom</span><span class="op">:</span> <span class="dv">60</span><span class="op">,</span></span>
<span id="cb2-279"><a href="#cb2-279" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb2-280"><a href="#cb2-280" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"Publication Year"</span><span class="op">,</span></span>
<span id="cb2-281"><a href="#cb2-281" aria-hidden="true" tabindex="-1"></a>    <span class="dt">domain</span><span class="op">:</span> [<span class="bu">Math</span><span class="op">.</span><span class="fu">min</span>(<span class="op">...</span>unique_years)<span class="op">,</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span>(<span class="op">...</span>unique_years)]<span class="op">,</span></span>
<span id="cb2-282"><a href="#cb2-282" aria-hidden="true" tabindex="-1"></a>    <span class="dt">tickFormat</span><span class="op">:</span> <span class="st">"d"</span></span>
<span id="cb2-283"><a href="#cb2-283" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb2-284"><a href="#cb2-284" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb2-285"><a href="#cb2-285" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"Number of Publications"</span><span class="op">,</span></span>
<span id="cb2-286"><a href="#cb2-286" aria-hidden="true" tabindex="-1"></a>    <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb2-287"><a href="#cb2-287" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb2-288"><a href="#cb2-288" aria-hidden="true" tabindex="-1"></a>  <span class="dt">color</span><span class="op">:</span> {</span>
<span id="cb2-289"><a href="#cb2-289" aria-hidden="true" tabindex="-1"></a>    <span class="dt">domain</span><span class="op">:</span> unique_domains<span class="op">,</span></span>
<span id="cb2-290"><a href="#cb2-290" aria-hidden="true" tabindex="-1"></a>    <span class="dt">range</span><span class="op">:</span> unique_domains<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> domain_colors<span class="op">.</span><span class="fu">get</span>(d))<span class="op">,</span></span>
<span id="cb2-291"><a href="#cb2-291" aria-hidden="true" tabindex="-1"></a>    <span class="dt">legend</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb2-292"><a href="#cb2-292" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb2-293"><a href="#cb2-293" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb2-294"><a href="#cb2-294" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Solid lines for LU-affiliated authors</span></span>
<span id="cb2-295"><a href="#cb2-295" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(filtered_data<span class="op">.</span><span class="fu">filter</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">is_lu_first_author</span> <span class="op">===</span> <span class="kw">true</span>)<span class="op">,</span> {</span>
<span id="cb2-296"><a href="#cb2-296" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> <span class="st">"publication_year"</span><span class="op">,</span></span>
<span id="cb2-297"><a href="#cb2-297" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> <span class="st">"total"</span><span class="op">,</span></span>
<span id="cb2-298"><a href="#cb2-298" aria-hidden="true" tabindex="-1"></a>      <span class="dt">stroke</span><span class="op">:</span> <span class="st">"primary_domain_name"</span><span class="op">,</span></span>
<span id="cb2-299"><a href="#cb2-299" aria-hidden="true" tabindex="-1"></a>      <span class="dt">strokeWidth</span><span class="op">:</span> <span class="fl">2.5</span><span class="op">,</span></span>
<span id="cb2-300"><a href="#cb2-300" aria-hidden="true" tabindex="-1"></a>      <span class="dt">z</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="vs">`</span><span class="sc">${</span>d<span class="op">.</span><span class="at">primary_domain_name</span><span class="sc">}</span><span class="vs">-LU`</span></span>
<span id="cb2-301"><a href="#cb2-301" aria-hidden="true" tabindex="-1"></a>    })<span class="op">,</span></span>
<span id="cb2-302"><a href="#cb2-302" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Dashed lines for non-LU-affiliated authors</span></span>
<span id="cb2-303"><a href="#cb2-303" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(filtered_data<span class="op">.</span><span class="fu">filter</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">is_lu_first_author</span> <span class="op">===</span> <span class="kw">false</span>)<span class="op">,</span> {</span>
<span id="cb2-304"><a href="#cb2-304" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> <span class="st">"publication_year"</span><span class="op">,</span></span>
<span id="cb2-305"><a href="#cb2-305" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> <span class="st">"total"</span><span class="op">,</span></span>
<span id="cb2-306"><a href="#cb2-306" aria-hidden="true" tabindex="-1"></a>      <span class="dt">stroke</span><span class="op">:</span> <span class="st">"primary_domain_name"</span><span class="op">,</span></span>
<span id="cb2-307"><a href="#cb2-307" aria-hidden="true" tabindex="-1"></a>      <span class="dt">strokeWidth</span><span class="op">:</span> <span class="fl">2.5</span><span class="op">,</span></span>
<span id="cb2-308"><a href="#cb2-308" aria-hidden="true" tabindex="-1"></a>      <span class="dt">strokeDasharray</span><span class="op">:</span> <span class="st">"8,8"</span><span class="op">,</span></span>
<span id="cb2-309"><a href="#cb2-309" aria-hidden="true" tabindex="-1"></a>      <span class="dt">z</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="vs">`</span><span class="sc">${</span>d<span class="op">.</span><span class="at">primary_domain_name</span><span class="sc">}</span><span class="vs">-NonLU`</span></span>
<span id="cb2-310"><a href="#cb2-310" aria-hidden="true" tabindex="-1"></a>    })<span class="op">,</span></span>
<span id="cb2-311"><a href="#cb2-311" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Points with different symbols</span></span>
<span id="cb2-312"><a href="#cb2-312" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">dot</span>(filtered_data<span class="op">,</span> {</span>
<span id="cb2-313"><a href="#cb2-313" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> <span class="st">"publication_year"</span><span class="op">,</span></span>
<span id="cb2-314"><a href="#cb2-314" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> <span class="st">"total"</span><span class="op">,</span></span>
<span id="cb2-315"><a href="#cb2-315" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fill</span><span class="op">:</span> <span class="st">"primary_domain_name"</span><span class="op">,</span></span>
<span id="cb2-316"><a href="#cb2-316" aria-hidden="true" tabindex="-1"></a>      <span class="dt">symbol</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">is_lu_first_author</span> <span class="op">?</span> <span class="st">"circle"</span> <span class="op">:</span> <span class="st">"triangle"</span><span class="op">,</span></span>
<span id="cb2-317"><a href="#cb2-317" aria-hidden="true" tabindex="-1"></a>      <span class="dt">r</span><span class="op">:</span> <span class="dv">5</span><span class="op">,</span></span>
<span id="cb2-318"><a href="#cb2-318" aria-hidden="true" tabindex="-1"></a>      <span class="dt">stroke</span><span class="op">:</span> <span class="st">"white"</span><span class="op">,</span></span>
<span id="cb2-319"><a href="#cb2-319" aria-hidden="true" tabindex="-1"></a>      <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span></span>
<span id="cb2-320"><a href="#cb2-320" aria-hidden="true" tabindex="-1"></a>    })<span class="op">,</span></span>
<span id="cb2-321"><a href="#cb2-321" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Tooltips</span></span>
<span id="cb2-322"><a href="#cb2-322" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">tip</span>(filtered_data<span class="op">,</span> Plot<span class="op">.</span><span class="fu">pointer</span>({</span>
<span id="cb2-323"><a href="#cb2-323" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> <span class="st">"publication_year"</span><span class="op">,</span></span>
<span id="cb2-324"><a href="#cb2-324" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> <span class="st">"total"</span><span class="op">,</span></span>
<span id="cb2-325"><a href="#cb2-325" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fill</span><span class="op">:</span> <span class="st">"primary_domain_name"</span><span class="op">,</span></span>
<span id="cb2-326"><a href="#cb2-326" aria-hidden="true" tabindex="-1"></a>      <span class="dt">title</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="vs">`</span><span class="sc">${</span>d<span class="op">.</span><span class="at">primary_domain_name</span><span class="sc">}\n${</span>d<span class="op">.</span><span class="at">publication_year</span><span class="sc">}\n</span><span class="vs">Publications: </span><span class="sc">${</span>d<span class="op">.</span><span class="at">total</span><span class="sc">}\n</span><span class="vs">LU First Author: </span><span class="sc">${</span>d<span class="op">.</span><span class="at">is_lu_first_author</span> <span class="op">?</span> <span class="st">"Yes"</span> <span class="op">:</span> <span class="st">"No"</span><span class="sc">}</span><span class="vs">`</span></span>
<span id="cb2-327"><a href="#cb2-327" aria-hidden="true" tabindex="-1"></a>    }))</span>
<span id="cb2-328"><a href="#cb2-328" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">,</span></span>
<span id="cb2-329"><a href="#cb2-329" aria-hidden="true" tabindex="-1"></a>  <span class="dt">title</span><span class="op">:</span> <span class="st">"Luxembourg Research Publications by Domain Over Time"</span></span>
<span id="cb2-330"><a href="#cb2-330" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-9" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-10" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-11" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-12" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-13" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb3" data-startfrom="338" data-source-offset="-3920"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 337;"><span id="cb3-338"><a href="#cb3-338" aria-hidden="true" tabindex="-1"></a><span class="fu">html</span><span class="vs">`</span></span>
<span id="cb3-339"><a href="#cb3-339" aria-hidden="true" tabindex="-1"></a><span class="vs">&lt;div style="margin-top: 20px; padding: 15px; border: 1px solid #ddd; border-radius: 5px; background-color: #f9f9f9;"&gt;</span></span>
<span id="cb3-340"><a href="#cb3-340" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;h4 style="margin-top: 0; margin-bottom: 10px;"&gt;Author Type Legend:&lt;/h4&gt;</span></span>
<span id="cb3-341"><a href="#cb3-341" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;div style="display: flex; gap: 30px; align-items: center;"&gt;</span></span>
<span id="cb3-342"><a href="#cb3-342" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;div style="display: flex; align-items: center; gap: 8px;"&gt;</span></span>
<span id="cb3-343"><a href="#cb3-343" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;svg width="30" height="20"&gt;</span></span>
<span id="cb3-344"><a href="#cb3-344" aria-hidden="true" tabindex="-1"></a><span class="vs">        &lt;line x1="0" y1="10" x2="30" y2="10" stroke="#333" stroke-width="2.5" /&gt;</span></span>
<span id="cb3-345"><a href="#cb3-345" aria-hidden="true" tabindex="-1"></a><span class="vs">        &lt;circle cx="15" cy="10" r="4" fill="#333" stroke="white" stroke-width="1"/&gt;</span></span>
<span id="cb3-346"><a href="#cb3-346" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;/svg&gt;</span></span>
<span id="cb3-347"><a href="#cb3-347" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;span&gt;&lt;strong&gt;LU-affiliated first author&lt;/strong&gt; (solid line + circle)&lt;/span&gt;</span></span>
<span id="cb3-348"><a href="#cb3-348" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb3-349"><a href="#cb3-349" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;div style="display: flex; align-items: center; gap: 8px;"&gt;</span></span>
<span id="cb3-350"><a href="#cb3-350" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;svg width="30" height="20"&gt;</span></span>
<span id="cb3-351"><a href="#cb3-351" aria-hidden="true" tabindex="-1"></a><span class="vs">        &lt;line x1="0" y1="10" x2="30" y2="10" stroke="#333" stroke-width="2.5" stroke-dasharray="2,8"/&gt;</span></span>
<span id="cb3-352"><a href="#cb3-352" aria-hidden="true" tabindex="-1"></a><span class="vs">        &lt;polygon points="15,6 19,14 11,14" fill="#333" stroke="white" stroke-width="1"/&gt;</span></span>
<span id="cb3-353"><a href="#cb3-353" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;/svg&gt;</span></span>
<span id="cb3-354"><a href="#cb3-354" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;span&gt;&lt;strong&gt;Non-LU-affiliated first author&lt;/strong&gt; (dashed line + triangle)&lt;/span&gt;</span></span>
<span id="cb3-355"><a href="#cb3-355" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;/div&gt;</span></span>
<span id="cb3-356"><a href="#cb3-356" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;/div&gt;</span></span>
<span id="cb3-357"><a href="#cb3-357" aria-hidden="true" tabindex="-1"></a><span class="vs">&lt;/div&gt;</span></span>
<span id="cb3-358"><a href="#cb3-358" aria-hidden="true" tabindex="-1"></a><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-14" data-nodetype="expression">

</div>
</div>
</div>
</div>
</section>
<section id="international-collaboration-patterns" class="level2">
<h2 class="anchored" data-anchor-id="international-collaboration-patterns">International Collaboration Patterns</h2>
<p>The analysis extends to examining Luxembourg’s research collaboration patterns with international partners. The dataset contains information about co-author affiliations, enabling identification of the most frequent collaborating countries and regions. This section presents the geographical distribution of research partnerships, organized by publication year and distinguished by Luxembourg’s role as lead author versus collaborative partner.</p>
<p>The data processing groups countries into meaningful categories, including major individual nations, regional blocs, and an aggregated “Others” category for countries with lower collaboration frequencies. This approach provides clarity while maintaining analytical depth regarding Luxembourg’s primary research partnerships:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="report_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script type="ojs-module-contents">
eyJjb250ZW50cyI6W3sibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IlxuLy8gSW1wb3J0IHJlcXVpcmVkIGxpYnJhcmllc1xuaW1wb3J0IHtQbG90fSBmcm9tIFwiQG9ic2VydmFibGVocS9wbG90XCJcbmltcG9ydCB7SW5wdXRzfSBmcm9tIFwiQG9ic2VydmFibGVocS9pbnB1dHNcIlxuaW1wb3J0IHtyYW5nZUlucHV0fSBmcm9tIFwiQG1vb3RhcmkvcmFuZ2Utc2xpZGVyXCJcblxuXG4vLyBDb252ZXJ0IFIgZGF0YSB0byBKYXZhU2NyaXB0IGZvcm1hdFxucmF3X2RhdGEgPSB0cmFuc3Bvc2UocHJpbWFyeV9kb21haW5fbHVfb2pzKVxuXG4vLyBDb252ZXJ0IGRhdGEgdHlwZXMgdG8gZW5zdXJlIE9ic2VydmFibGUgUGxvdCBjYW4gdXNlIHRoZW1cbmRhdGEgPSByYXdfZGF0YS5tYXAoZCA9PiAoe1xuICBwdWJsaWNhdGlvbl95ZWFyOiArZC5wdWJsaWNhdGlvbl95ZWFyLCAgLy8gQ29udmVydCB0byBudW1iZXJcbiAgcHJpbWFyeV9kb21haW5fbmFtZTogZC5wcmltYXJ5X2RvbWFpbl9uYW1lLFxuICB0b3RhbDogK2QudG90YWwsICAvLyBDb252ZXJ0IHRvIG51bWJlclxuICBpc19sdV9maXJzdF9hdXRob3I6IGQuaXNfbHVfZmlyc3RfYXV0aG9yID09PSBcIlRSVUVcIiB8fCBkLmlzX2x1X2ZpcnN0X2F1dGhvciA9PT0gdHJ1ZSAgLy8gQ29udmVydCB0byBib29sZWFuXG59KSlcblxuLy8gQ3JlYXRlIGNvbG9yIG1hcHBpbmdcbmRvbWFpbl9jb2xvcnMgPSBuZXcgTWFwKFtcbiAgW1wiSGVhbHRoIFNjaWVuY2VzXCIsIFwiI0ZGNkIzNVwiXSxcbiAgW1wiTGlmZSBTY2llbmNlc1wiLCBcIiMwMDMzOTlcIl0sXG4gIFtcIk1JU1NJTkctRE9NQUlOXCIsIFwiIzIyOEIyMlwiXSxcbiAgW1wiUGh5c2ljYWwgU2NpZW5jZXNcIiwgXCIjRkYxNDkzXCJdLFxuICBbXCJTb2NpYWwgU2NpZW5jZXNcIiwgXCIjODAwMDgwXCJdXG5dKVxuXG4vLyBHZXQgdW5pcXVlIHZhbHVlcyBmb3IgY29udHJvbHNcbnVuaXF1ZV95ZWFycyA9IFsuLi5uZXcgU2V0KGRhdGEubWFwKGQgPT4gZC5wdWJsaWNhdGlvbl95ZWFyKSldLnNvcnQoKVxudW5pcXVlX2RvbWFpbnMgPSBbLi4ubmV3IFNldChkYXRhLm1hcChkID0+IGQucHJpbWFyeV9kb21haW5fbmFtZSkpXS5zb3J0KClcblxudmlld29mIHllYXJfcmFuZ2UgPSByYW5nZUlucHV0KHtcbiAgbWluOiAyMDE1LFxuICBtYXg6IDIwMjUsXG4gIHZhbHVlOiBbMjAxNSwgMjAyNV0sXG4gIHRpdGxlOiAnU2VsZWN0IHllYXIgaW50ZXJ2YWwnLFxuICBzdGVwOiAxXG59KVxuXG52aWV3b2Ygc2VsZWN0ZWRfZG9tYWlucyA9IElucHV0cy5jaGVja2JveChcbiAgdW5pcXVlX2RvbWFpbnMsXG4gIHtcbiAgICB2YWx1ZTogdW5pcXVlX2RvbWFpbnMsXG4gICAgbGFiZWw6IFwiUmVzZWFyY2ggRG9tYWluc1wiXG4gIH1cbilcblxudmlld29mIHNlbGVjdGVkX2F1dGhvcl90eXBlID0gSW5wdXRzLnJhZGlvKFxuICBbXCJMVS1hZmZpbGlhdGVkIGZpcnN0IGF1dGhvclwiLCBcIk5vbiBMVS1hZmZpbGlhdGVkIGZpcnN0IGF1dGhvclwiLCBcIkJvdGhcIl0sXG4gIHtcbiAgICB2YWx1ZTogXCJCb3RoXCIsXG4gICAgbGFiZWw6IFwiRmlyc3QgQXV0aG9yIEFmZmlsaWF0aW9uXCJcbiAgfVxuKVxuXG5cbi8vIEZpbHRlciBkYXRhIGJhc2VkIG9uIHNlbGVjdGlvbnNcbmZpbHRlcmVkX2RhdGEgPSBkYXRhLmZpbHRlcihkID0+IHtcbiAgLy8gWWVhciBmaWx0ZXJcbiAgY29uc3QgeWVhck9rID0gZC5wdWJsaWNhdGlvbl95ZWFyID49IHllYXJfcmFuZ2VbMF0gJiYgZC5wdWJsaWNhdGlvbl95ZWFyIDw9IHllYXJfcmFuZ2VbMV07XG4gIFxuICAvLyBEb21haW4gZmlsdGVyXG4gIGNvbnN0IGRvbWFpbk9rID0gc2VsZWN0ZWRfZG9tYWlucy5pbmNsdWRlcyhkLnByaW1hcnlfZG9tYWluX25hbWUpO1xuICBcbiAgLy8gQXV0aG9yIGZpbHRlclxuICBsZXQgYXV0aG9yT2sgPSBmYWxzZTtcbiAgaWYgKHNlbGVjdGVkX2F1dGhvcl90eXBlID09PSBcIkJvdGhcIikge1xuICAgIGF1dGhvck9rID0gdHJ1ZTtcbiAgfSBlbHNlIGlmIChzZWxlY3RlZF9hdXRob3JfdHlwZSA9PT0gXCJMVS1hZmZpbGlhdGVkIGZpcnN0IGF1dGhvclwiKSB7XG4gICAgYXV0aG9yT2sgPSBkLmlzX2x1X2ZpcnN0X2F1dGhvciA9PT0gdHJ1ZTtcbiAgfSBlbHNlIGlmIChzZWxlY3RlZF9hdXRob3JfdHlwZSA9PT0gXCJOb24gTFUtYWZmaWxpYXRlZCBmaXJzdCBhdXRob3JcIikge1xuICAgIGF1dGhvck9rID0gZC5pc19sdV9maXJzdF9hdXRob3IgPT09IGZhbHNlO1xuICB9XG4gIFxuICByZXR1cm4geWVhck9rICYmIGRvbWFpbk9rICYmIGF1dGhvck9rO1xufSlcblxuXG4vLyBDcmVhdGUgdGhlIHBsb3Rcbi8vfCBlY2hvOiBmYWxzZVxuXG4vLyBDcmVhdGUgdGhlIHBsb3Qgd2l0aCBiZXR0ZXIgdmlzdWFsIGRpc3RpbmN0aW9uXG4vLyBDcmVhdGUgdGhlIHBsb3RcblBsb3QucGxvdCh7XG4gIHdpZHRoOiA4MDAsXG4gIGhlaWdodDogNTAwLFxuICBtYXJnaW5MZWZ0OiA2MCxcbiAgbWFyZ2luQm90dG9tOiA2MCxcbiAgeDoge1xuICAgIGxhYmVsOiBcIlB1YmxpY2F0aW9uIFllYXJcIixcbiAgICBkb21haW46IFtNYXRoLm1pbiguLi51bmlxdWVfeWVhcnMpLCBNYXRoLm1heCguLi51bmlxdWVfeWVhcnMpXSxcbiAgICB0aWNrRm9ybWF0OiBcImRcIlxuICB9LFxuICB5OiB7XG4gICAgbGFiZWw6IFwiTnVtYmVyIG9mIFB1YmxpY2F0aW9uc1wiLFxuICAgIGdyaWQ6IHRydWVcbiAgfSxcbiAgY29sb3I6IHtcbiAgICBkb21haW46IHVuaXF1ZV9kb21haW5zLFxuICAgIHJhbmdlOiB1bmlxdWVfZG9tYWlucy5tYXAoZCA9PiBkb21haW5fY29sb3JzLmdldChkKSksXG4gICAgbGVnZW5kOiB0cnVlXG4gIH0sXG4gIG1hcmtzOiBbXG4gICAgLy8gU29saWQgbGluZXMgZm9yIExVLWFmZmlsaWF0ZWQgYXV0aG9yc1xuICAgIFBsb3QubGluZShmaWx0ZXJlZF9kYXRhLmZpbHRlcihkID0+IGQuaXNfbHVfZmlyc3RfYXV0aG9yID09PSB0cnVlKSwge1xuICAgICAgeDogXCJwdWJsaWNhdGlvbl95ZWFyXCIsXG4gICAgICB5OiBcInRvdGFsXCIsXG4gICAgICBzdHJva2U6IFwicHJpbWFyeV9kb21haW5fbmFtZVwiLFxuICAgICAgc3Ryb2tlV2lkdGg6IDIuNSxcbiAgICAgIHo6IGQgPT4gYCR7ZC5wcmltYXJ5X2RvbWFpbl9uYW1lfS1MVWBcbiAgICB9KSxcbiAgICAvLyBEYXNoZWQgbGluZXMgZm9yIG5vbi1MVS1hZmZpbGlhdGVkIGF1dGhvcnNcbiAgICBQbG90LmxpbmUoZmlsdGVyZWRfZGF0YS5maWx0ZXIoZCA9PiBkLmlzX2x1X2ZpcnN0X2F1dGhvciA9PT0gZmFsc2UpLCB7XG4gICAgICB4OiBcInB1YmxpY2F0aW9uX3llYXJcIixcbiAgICAgIHk6IFwidG90YWxcIixcbiAgICAgIHN0cm9rZTogXCJwcmltYXJ5X2RvbWFpbl9uYW1lXCIsXG4gICAgICBzdHJva2VXaWR0aDogMi41LFxuICAgICAgc3Ryb2tlRGFzaGFycmF5OiBcIjgsOFwiLFxuICAgICAgejogZCA9PiBgJHtkLnByaW1hcnlfZG9tYWluX25hbWV9LU5vbkxVYFxuICAgIH0pLFxuICAgIC8vIFBvaW50cyB3aXRoIGRpZmZlcmVudCBzeW1ib2xzXG4gICAgUGxvdC5kb3QoZmlsdGVyZWRfZGF0YSwge1xuICAgICAgeDogXCJwdWJsaWNhdGlvbl95ZWFyXCIsXG4gICAgICB5OiBcInRvdGFsXCIsXG4gICAgICBmaWxsOiBcInByaW1hcnlfZG9tYWluX25hbWVcIixcbiAgICAgIHN5bWJvbDogZCA9PiBkLmlzX2x1X2ZpcnN0X2F1dGhvciA/IFwiY2lyY2xlXCIgOiBcInRyaWFuZ2xlXCIsXG4gICAgICByOiA1LFxuICAgICAgc3Ryb2tlOiBcIndoaXRlXCIsXG4gICAgICBzdHJva2VXaWR0aDogMVxuICAgIH0pLFxuICAgIC8vIFRvb2x0aXBzXG4gICAgUGxvdC50aXAoZmlsdGVyZWRfZGF0YSwgUGxvdC5wb2ludGVyKHtcbiAgICAgIHg6IFwicHVibGljYXRpb25feWVhclwiLFxuICAgICAgeTogXCJ0b3RhbFwiLFxuICAgICAgZmlsbDogXCJwcmltYXJ5X2RvbWFpbl9uYW1lXCIsXG4gICAgICB0aXRsZTogZCA9PiBgJHtkLnByaW1hcnlfZG9tYWluX25hbWV9XFxuJHtkLnB1YmxpY2F0aW9uX3llYXJ9XFxuUHVibGljYXRpb25zOiAke2QudG90YWx9XFxuTFUgRmlyc3QgQXV0aG9yOiAke2QuaXNfbHVfZmlyc3RfYXV0aG9yID8gXCJZZXNcIiA6IFwiTm9cIn1gXG4gICAgfSkpXG4gIF0sXG4gIHRpdGxlOiBcIkx1eGVtYm91cmcgUmVzZWFyY2ggUHVibGljYXRpb25zIGJ5IERvbWFpbiBPdmVyIFRpbWVcIlxufSlcblxuXG5cblxuLy98IGVjaG86IGZhbHNlXG5cbi8vIEF1dGhvciBUeXBlIExlZ2VuZFxuaHRtbGBcbjxkaXYgc3R5bGU9XCJtYXJnaW4tdG9wOiAyMHB4OyBwYWRkaW5nOiAxNXB4OyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBib3JkZXItcmFkaXVzOiA1cHg7IGJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7XCI+XG4gIDxoNCBzdHlsZT1cIm1hcmdpbi10b3A6IDA7IG1hcmdpbi1ib3R0b206IDEwcHg7XCI+QXV0aG9yIFR5cGUgTGVnZW5kOjwvaDQ+XG4gIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBnYXA6IDMwcHg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7XCI+XG4gICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogOHB4O1wiPlxuICAgICAgPHN2ZyB3aWR0aD1cIjMwXCIgaGVpZ2h0PVwiMjBcIj5cbiAgICAgICAgPGxpbmUgeDE9XCIwXCIgeTE9XCIxMFwiIHgyPVwiMzBcIiB5Mj1cIjEwXCIgc3Ryb2tlPVwiIzMzM1wiIHN0cm9rZS13aWR0aD1cIjIuNVwiIC8+XG4gICAgICAgIDxjaXJjbGUgY3g9XCIxNVwiIGN5PVwiMTBcIiByPVwiNFwiIGZpbGw9XCIjMzMzXCIgc3Ryb2tlPVwid2hpdGVcIiBzdHJva2Utd2lkdGg9XCIxXCIvPlxuICAgICAgPC9zdmc+XG4gICAgICA8c3Bhbj48c3Ryb25nPkxVLWFmZmlsaWF0ZWQgZmlyc3QgYXV0aG9yPC9zdHJvbmc+IChzb2xpZCBsaW5lICsgY2lyY2xlKTwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiA4cHg7XCI+XG4gICAgICA8c3ZnIHdpZHRoPVwiMzBcIiBoZWlnaHQ9XCIyMFwiPlxuICAgICAgICA8bGluZSB4MT1cIjBcIiB5MT1cIjEwXCIgeDI9XCIzMFwiIHkyPVwiMTBcIiBzdHJva2U9XCIjMzMzXCIgc3Ryb2tlLXdpZHRoPVwiMi41XCIgc3Ryb2tlLWRhc2hhcnJheT1cIjIsOFwiLz5cbiAgICAgICAgPHBvbHlnb24gcG9pbnRzPVwiMTUsNiAxOSwxNCAxMSwxNFwiIGZpbGw9XCIjMzMzXCIgc3Ryb2tlPVwid2hpdGVcIiBzdHJva2Utd2lkdGg9XCIxXCIvPlxuICAgICAgPC9zdmc+XG4gICAgICA8c3Bhbj48c3Ryb25nPk5vbi1MVS1hZmZpbGlhdGVkIGZpcnN0IGF1dGhvcjwvc3Ryb25nPiAoZGFzaGVkIGxpbmUgKyB0cmlhbmdsZSk8L3NwYW4+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC9kaXY+XG5gXG5cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgneWVhcl9yYW5nZScpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdzZWxlY3RlZF9kb21haW5zJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ3NlbGVjdGVkX2F1dGhvcl90eXBlJykifV19
</script>
<script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../../..";
window._ojs.paths.runtimeToRoot = "../../..";
window._ojs.paths.docToRoot = "";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>